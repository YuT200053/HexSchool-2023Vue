import{a as f}from"./axios-Bo0ATomq.js";import{P as b}from"./PaginationComponent-BPRaMnxF.js";import{_ as v,k as y,c as n,a as d,b as t,F as r,i as u,r as _,o,t as s,d as k}from"./index-BEuj7Qh8.js";var V={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"yu-t-200053",BASE_URL:"/HexSchool-2023Vue/w7/dist/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:w,VITE_PATH:x}=V,E={data(){return{orders:{},pagination:{},isLoading:!1}},components:{PaginationComponent:b},methods:{getOrders(){const c=`${w}/api/${x}/admin/orders`;f.get(c).then(a=>{this.orders=a.data.orders,this.pagination=a.data.pagination,console.log(this.orders[0])}).catch(a=>{alert(a.response.data.message)})}},mounted(){this.getOrders()}},L={class:"container mx-auto"},P=t("h2",{class:"text-center"},"後台訂單",-1),D={class:"table align-middle"},S=t("thead",null,[t("tr",null,[t("td",null,"購買時間"),t("td",{width:"25%"},"Email"),t("td",{width:"25%"},"購買款項"),t("td",null,"應付金額"),t("td",null,"是否付款"),t("td",null,"編輯")])],-1),O={class:"list-unstyled"},T={class:"form-check form-switch"},R=["id"],A=["for"],B={key:0},C={key:1},I=t("td",null,[t("div",{class:"btn-group btn-group-sm",role:"group","aria-label":"edit"},[t("button",{type:"button",class:"btn btn-outline-primary"},"檢視"),t("button",{type:"button",class:"btn btn-outline-danger"},"刪除")])],-1);function $(c,a,H,U,l,p){const h=_("VueLoading"),m=_("PaginationComponent"),g=y("modal");return o(),n("div",L,[d(h,{active:l.isLoading},null,8,["active"]),P,t("table",D,[S,t("tbody",null,[(o(!0),n(r,null,u(l.orders,e=>(o(),n("tr",{key:e.id},[t("td",null,s(new Date(e.create_at*1e3).toLocaleDateString()),1),t("td",null,s(e.user.email),1),t("td",null,[t("ul",O,[(o(!0),n(r,null,u(e.products,i=>(o(),n("li",{key:i.id},s(i.product.title)+" "+s(i.qty)+" "+s(i.product.unit),1))),128))])]),t("td",null,s(e.total),1),t("td",null,[t("div",T,[k(t("input",{class:"form-check-input",type:"checkbox",role:"switch",id:`paidSwitch${e.id}`},null,8,R),[[g,e.is_paid]]),t("label",{class:"form-check-label",for:`paidSwitch${e.id}`},[e.is_paid?(o(),n("span",B,"已付款")):(o(),n("span",C,"未付款"))],8,A)])]),I]))),128))])]),d(m,{pagination:l.pagination,onGetProducts:p.getOrders},null,8,["pagination","onGetProducts"])])}const q=v(E,[["render",$]]);export{q as default};
