import{a as V}from"./axios-Bo0ATomq.js";import{_ as g,c as r,a as e,F as f,f as p,t as n,b as a,w as x,r as u,o as c,e as h,v as y,h as m,i as E}from"./index-D0IklmBw.js";var w={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"yu-t-200053",BASE_URL:"/HexSchool-2023Vue/w6/dist/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:S,VITE_PATH:U}=w,k={data(){return{carts:{},form:{user:{name:"",email:"",tel:"",address:""},message:""}}},methods:{getCart(){const _=`${S}/api/${U}/cart`;V.get(_).then(l=>{this.carts=l.data.data,console.log(this.carts)})},Submit(){console.log(this.form)}},mounted(){this.getCart()}},T={class:"container"},q=e("h2",{class:"text-center"},"前台購物車",-1),C=e("div",{class:"text-end my-3"},[e("button",{type:"button",class:"btn btn-outline-danger"},"清空購物車")],-1),F={class:"table align-middle"},D=e("thead",null,[e("tr",null,[e("td",{width:"10%"}),e("td",{width:"45%"},"品名"),e("td",{width:"25%"},"數量 / 單位"),e("td",{width:"30%"},"單價")])],-1),M=e("td",null,[e("button",{type:"button",class:"btn btn-outline-danger"},"×")],-1),R={class:"input-group"},B=["onUpdate:modelValue"],I=["value"],L=e("label",{class:"input-group-text",for:"cart"},"個",-1),A={class:"text-end"},H={class:"text-end"},P=e("td",{colspan:"3"},"總計",-1),N=e("td",{colspan:"3",class:"text-success"},"折扣價",-1),O={class:"text-success"},z={class:"row"},j={class:"mb-3"},G=e("label",{for:"email",class:"form-label"},"Email",-1),J={class:"mb-3"},K=e("label",{for:"name",class:"form-label"},"收件人姓名",-1),Q={class:"mb-3"},W=e("label",{for:"tel",class:"form-label"},"收件人電話",-1),X={class:"mb-3"},Y=e("label",{for:"address",class:"form-label"},"收件人地址",-1),Z={class:"mb-3"},$=e("label",{for:"message",class:"form-label"},"留言",-1),ee=e("div",{class:"text-end"},[e("button",{type:"submit",class:"btn btn-danger"},"送出訂單")],-1);function se(_,l,te,le,t,b){const d=u("VeeField"),i=u("ErrorMessage"),v=u("VeeForm");return c(),r("div",T,[q,C,e("table",F,[D,e("tbody",null,[(c(!0),r(f,null,p(t.carts.carts,o=>(c(),r("tr",{key:o.id},[M,e("td",null,n(o.product.title),1),e("td",null,[e("div",R,[h(e("select",{class:"form-select",id:"cart","onUpdate:modelValue":s=>o.qty=s},[(c(),r(f,null,p(20,s=>e("option",{key:s,value:s},n(s),9,I)),64))],8,B),[[y,o.qty]]),L])]),e("td",A,"$ "+n(o.product.price),1)]))),128))]),e("tfoot",H,[e("tr",null,[P,e("td",null,"$ "+n(t.carts.total),1)]),e("tr",null,[N,e("td",O,"$ "+n(t.carts.final_total),1)])])]),e("div",z,[a(v,{onSubmit:b.Submit,ref:"form",class:"col-md-6"},{default:x(({errors:o})=>[e("div",j,[G,a(d,{id:"email",name:"email",type:"email",class:m(["form-control",{"is-invalid":o.email}]),placeholder:"請輸入 Email",rules:"email|required",modelValue:t.form.user.email,"onUpdate:modelValue":l[0]||(l[0]=s=>t.form.user.email=s)},null,8,["class","modelValue"]),a(i,{name:"email",class:"invalid-feedback"})]),e("div",J,[K,a(d,{id:"name",name:"姓名",type:"text",class:m(["form-control",{"is-invalid":o.姓名}]),placeholder:"請輸入姓名",rules:"required",modelValue:t.form.user.name,"onUpdate:modelValue":l[1]||(l[1]=s=>t.form.user.name=s)},null,8,["class","modelValue"]),a(i,{name:"姓名",class:"invalid-feedback"})]),e("div",Q,[W,a(d,{id:"tel",name:"電話",type:"tel",class:m(["form-control",{"is-invalid":o.電話}]),placeholder:"請輸入電話",rules:"required|min:8",modelValue:t.form.user.tel,"onUpdate:modelValue":l[2]||(l[2]=s=>t.form.user.tel=s)},null,8,["class","modelValue"]),a(i,{name:"電話",class:"invalid-feedback"})]),e("div",X,[Y,a(d,{id:"address",name:"地址",type:"text",class:m(["form-control",{"is-invalid":o.地址}]),placeholder:"請輸入地址",rules:"required",modelValue:t.form.user.address,"onUpdate:modelValue":l[3]||(l[3]=s=>t.form.user.address=s)},null,8,["class","modelValue"]),a(i,{name:"地址",class:"invalid-feedback"})]),e("div",Z,[$,h(e("textarea",{id:"message",name:"留言",class:"form-control","onUpdate:modelValue":l[4]||(l[4]=s=>t.form.message=s)},null,512),[[E,t.form.message]])]),ee]),_:1},8,["onSubmit"])])])}const ne=g(k,[["render",se]]);export{ne as default};
