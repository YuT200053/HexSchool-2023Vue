import{a as k}from"./axios-Bo0ATomq.js";import{_ as m,o as n,c as a,a as t,h as u,g,F as f,f as v,t as c,b as p,r as h}from"./index-JWKBkPLk.js";const $={props:["pagination"],methods:{getProduct(l){this.$emit("getProduct",l)}}},b={"aria-label":"Page navigation"},V={class:"pagination mb-0 justify-content-center"},x=t("span",{"aria-hidden":"true"},"«",-1),y=[x],L=["onClick"],C=t("span",{"aria-hidden":"true"},"»",-1),E=[C];function T(l,i,e,P,d,r){return n(),a("div",null,[t("nav",b,[t("ul",V,[t("li",{class:u(["page-item",{disabled:e.pagination.current_page===1}])},[t("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:i[0]||(i[0]=g(o=>r.getProduct(e.pagination.current_page-1),["prevent"]))},y)],2),(n(!0),a(f,null,v(e.pagination.total_pages,(o,_)=>(n(),a("li",{key:_,class:u(["page-item",{active:o===e.pagination.current_page}])},[t("a",{class:"page-link",href:"#",onClick:g(s=>r.getProduct(o),["prevent"])},c(o),9,L)],2))),128)),t("li",{class:u(["page-item",{disabled:e.pagination.current_page===e.pagination.total_pages}])},[t("a",{class:"page-link",href:"#","aria-label":"Next",onClick:i[1]||(i[1]=g(o=>r.getProduct(l.current_page+1),["prevent"]))},E)],2)])])])}const R=m($,[["render",T]]);var S={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"yu-t-200053",BASE_URL:"/HexSchool-2023Vue/w6/dist/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:B,VITE_PATH:D}=S,I={data(){return{products:[],pagination:{},isLoading:!1}},methods:{getProduct(l=1){const i=`${B}/api/${D}/admin/products?page=${l}`;this.isLoading=!0,k.get(i).then(e=>{this.products=e.data.products,this.pagination=e.data.pagination,this.isLoading=!1}).catch(e=>{alert(e.response.data.message)})}},mounted(){this.getProduct()},components:{PaginationComponent:R}},w={class:"container"},A=t("h2",null,"後台產品列表",-1),H={class:"table"},N=t("thead",null,[t("tr",null,[t("td",null,"分類"),t("td",null,"產品名稱"),t("td",null,"原價"),t("td",null,"售價"),t("td",null,"是否啟用")])],-1),U={class:"text-end"},F={class:"text-end"},G={key:0,class:"text-primary"},M={key:1};function O(l,i,e,P,d,r){const o=h("VueLoading"),_=h("PaginationComponent");return n(),a("div",w,[p(o,{active:d.isLoading},null,8,["active"]),A,t("table",H,[N,t("tbody",null,[(n(!0),a(f,null,v(d.products,s=>(n(),a("tr",{key:s.id},[t("td",null,c(s.category),1),t("td",null,c(s.title),1),t("td",U,"$ "+c(s.origin_price),1),t("td",F,"$ "+c(s.price),1),t("td",null,[s.is_enabled?(n(),a("span",G,"啟用")):(n(),a("span",M,"未啟用"))])]))),128))])]),p(_,{pagination:d.pagination,onGetProduct:r.getProduct},null,8,["pagination","onGetProduct"])])}const q=m(I,[["render",O]]);export{q as default};
