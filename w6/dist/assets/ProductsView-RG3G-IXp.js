import{a as m}from"./axios-Bo0ATomq.js";import{_ as f,c as s,b as v,a as e,F as u,f as p,h as d,g as _,r as k,o as n,t as l}from"./index-DCdbFpfK.js";var P={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"yu-t-200053",BASE_URL:"/HexSchool-2023Vue/w6/dist/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:V,VITE_PATH:b}=P,x={data(){return{products:[],pagination:{},isLoading:!1}},methods:{getProduct(r=1){const i=`${V}/api/${b}/admin/products?page=${r}`;this.isLoading=!0,m.get(i).then(o=>{this.products=o.data.products,this.pagination=o.data.pagination,this.isLoading=!1}).catch(o=>{alert(o.response.data.message)})}},mounted(){this.getProduct()}},L={class:"container"},y=e("h2",null,"後台產品列表",-1),E={class:"table"},C=e("thead",null,[e("tr",null,[e("td",null,"分類"),e("td",null,"產品名稱"),e("td",null,"原價"),e("td",null,"售價"),e("td",null,"是否啟用")])],-1),T={class:"text-end"},R={class:"text-end"},S={key:0,class:"text-primary"},B={key:1},D={"aria-label":"Page navigation mx-auto"},I={class:"pagination"},w=e("span",{"aria-hidden":"true"},"«",-1),A=[w],H=["onClick"],N=e("span",{"aria-hidden":"true"},"»",-1),U=[N];function F(r,i,o,M,a,c){const g=k("VueLoading");return n(),s("div",L,[v(g,{active:a.isLoading},null,8,["active"]),y,e("table",E,[C,e("tbody",null,[(n(!0),s(u,null,p(a.products,t=>(n(),s("tr",{key:t.id},[e("td",null,l(t.category),1),e("td",null,l(t.title),1),e("td",T,"$ "+l(t.origin_price),1),e("td",R,"$ "+l(t.price),1),e("td",null,[t.is_enabled?(n(),s("span",S,"啟用")):(n(),s("span",B,"未啟用"))])]))),128))])]),e("nav",D,[e("ul",I,[e("li",{class:d(["page-item",{disabled:a.pagination.current_page===1}])},[e("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:i[0]||(i[0]=_(t=>c.getProduct(a.pagination.current_page-1),["prevent"]))},A)],2),(n(!0),s(u,null,p(a.pagination.total_pages,(t,h)=>(n(),s("li",{key:h,class:d(["page-item",{active:t===a.pagination.current_page}])},[e("a",{class:"page-link",href:"#",onClick:_(O=>c.getProduct(t),["prevent"])},l(t),9,H)],2))),128)),e("li",{class:d(["page-item",{disabled:a.pagination.current_page===a.pagination.total_pages}])},[e("a",{class:"page-link",href:"#","aria-label":"Next",onClick:i[1]||(i[1]=_(t=>c.getProduct(r.current_page+1),["prevent"]))},U)],2)])])])}const j=f(x,[["render",F]]);export{j as default};
